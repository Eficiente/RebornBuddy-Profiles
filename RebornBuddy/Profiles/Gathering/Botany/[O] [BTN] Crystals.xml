<?xml version="1.0" encoding="utf-8"?>
<!--
#########################################################
# Profile: [O] [BTN] Crystals                           #
#########################################################
# Author: y2krazy                                       #
#########################################################
# Version: 1.0.0                                        #
#########################################################
# Required Level: 26                                    #
#########################################################
# Required Teleport Locations:                          #
# 	Bentbranch Meadows                                  #
# 	Black Brush Station                                 #
# 	Camp Tranquil or Quarrymill                         #
# 	Fallgourd Float                                     #
# 	Summerford Farms                                    #
#########################################################
# Required User Interaction:                            #
# 	None                                                #
#########################################################
# Required Setup:                                       #
# 	Fill out User Configuration below.                  #
# 	Level 26+ Botanist                                  #
# 	Set Botanist Gear Set at the bottom of the profile. #
#########################################################
# Item Drops:                                           #
# 	Fire Crystal                                        #
# 	Ice Crystal                                         #
# 	Wind Crystal                                        #
# 	Earth Crystal                                       #
# 	Lightning Crystal                                   #
# 	Water Crystal                                       #
#########################################################
-->

<!-- User Configuration -->
<!DOCTYPE Profile [
  <!ENTITY FireCrystals "2000"> <!-- Fire Crystals to gather before stopping. -->
  <!ENTITY IceCrystals "2000"> <!-- Ice Crystals to gather before stopping. -->
  <!ENTITY WindCrystals "2000"> <!-- Wind Crystals to gather before stopping. -->
  <!ENTITY EarthCrystals "2000"> <!-- Earth Crystals to gather before stopping. -->
  <!ENTITY LightningCrystals "2000"> <!-- Lightning Crystals to gather before stopping. -->
  <!ENTITY WaterCrystals "2000"> <!-- Water Crystals to gather before stopping. -->
]>
<!-- End User Configuration -->

<Profile>
	<Name>[O] [BTN] Crystals</Name>
	<BehaviorDirectory>../../Quest Behaviors</BehaviorDirectory>
	<KillRadius>90</KillRadius>
	<Order>

		<!-- Fire Crystal -->

		<While Condition="not HasAtLeast(8,&FireCrystals;)">

			<RunCode Name="Botanist" />
			<WaitTimer WaitTime="3" />
			<If Condition="Core.Me.CurrentJob == ClassJobType.Botanist">
				<LogMessage Message="You need more Fire Crystals..." />
				<If Condition="not IsOnMap(134)">
					<If Condition="Managers.WorldManager.HasAetheryteId(52)">
						<TeleportTo Name="Summerford Farms" AetheryteId="52" />
					</If>
					<If Condition="not Managers.WorldManager.HasAetheryteId(52)">
						<Travel To="134" />
					</If>
				</If>
				<NoCombatMoveTo Name="Farming Area" XYZ="-177.4732, 12.04764, -367.3405" />
				<Gather while="not HasAtLeast(8,&FireCrystals;)">
					<GatherObject>Mature Tree</GatherObject>
					<HotSpots>
						<HotSpot Radius="90" XYZ="-232.7466, 15.10347, -382.7352" name="Mature Trees" />
					</HotSpots>
					<ItemNames>
						<ItemName>Fire Crystal</ItemName>
						<ItemName>Fire Shard</ItemName>
					</ItemNames>
					<GatheringSkillOrder>
						<GatheringSkill SpellName="Nald'thal's Ward" TimesToCast="1" />
					</GatheringSkillOrder>
				</Gather>
			</If>

		</While>

		<!-- Ice Crystal -->

		<While Condition="not HasAtLeast(9,&IceCrystals;)">

			<RunCode Name="Botanist" />
			<WaitTimer WaitTime="3" />
			<If Condition="Core.Me.CurrentJob == ClassJobType.Botanist">
				<LogMessage Message="You need more Ice Crystals..." />
				<If Condition="not IsOnMap(153)">
					<If Condition="Managers.WorldManager.HasAetheryteId(5)">
						<TeleportTo Name="Quarrymill" AetheryteId="5" />
					</If>
					<If Condition="not Managers.WorldManager.HasAetheryteId(5)">
						<If Condition="Managers.WorldManager.HasAetheryteId(6)">
							<TeleportTo Name="Camp Tranquil" AetheryteId="6" />
						</If>
					</If>
					<If Condition="not Managers.WorldManager.HasAetheryteId(6)">
						<Travel To="153" />
					</If>
				</If>
				<NoCombatMoveTo Name="Farming Area" XYZ="-174.0778, 7.315338, -10.8868" />
				<Gather while="not HasAtLeast(9,&IceCrystals;)">
					<GatherObject>Mature Tree</GatherObject>
					<HotSpots>
						<HotSpot Radius="90" XYZ="-202.1286, 6.432597, 27.724" name="Mature Trees" />
					</HotSpots>
					<ItemNames>
						<ItemName>Ice Crystal</ItemName>
						<ItemName>Ice Shard</ItemName>
					</ItemNames>
					<GatheringSkillOrder>
						<GatheringSkill SpellName="Menphina's Ward" TimesToCast="1" />
					</GatheringSkillOrder>
				</Gather>
			</If>

		</While>

		<!-- Wind Crystal -->

		<While Condition="not HasAtLeast(10,&WindCrystals;)">

			<RunCode Name="Botanist" />
			<WaitTimer WaitTime="3" />
			<If Condition="Core.Me.CurrentJob == ClassJobType.Botanist">
				<LogMessage Message="You need more Wind Crystals..." />
				<If Condition="not IsOnMap(148)">
					<If Condition="Managers.WorldManager.HasAetheryteId(3)">
						<TeleportTo Name="Bentbranch Meadows" AetheryteId="3" />
					</If>
					<If Condition="not Managers.WorldManager.HasAetheryteId(3)">
						<Travel To="148" />
					</If>
				</If>
				<NoCombatMoveTo Name="Farming Area" XYZ="189.1244, -32.63171, 409.1171" />
				<Gather while="not HasAtLeast(10,&WindCrystals;)">
					<GatherObject>Mature Tree</GatherObject>
					<HotSpots>
						<HotSpot Radius="90" XYZ="154.5393, -23.913, 478.6511" name="Mature Trees" />
					</HotSpots>
					<ItemNames>
						<ItemName>Wind Crystal</ItemName>
						<ItemName>Wind Shard</ItemName>
					</ItemNames>
					<GatheringSkillOrder>
						<GatheringSkill SpellName="Llymlaen's Ward" TimesToCast="1" />
					</GatheringSkillOrder>
				</Gather>
			</If>

		</While>

		<!-- Earth Crystal -->

		<While Condition="not HasAtLeast(11,&EarthCrystals;)">

			<RunCode Name="Botanist" />
			<WaitTimer WaitTime="3" />
			<If Condition="Core.Me.CurrentJob == ClassJobType.Botanist">
				<LogMessage Message="You need more Earth Crystals..." />
				<If Condition="not IsOnMap(154)">
					<If Condition="Managers.WorldManager.HasAetheryteId(7)">
						<TeleportTo Name="Fallgourd Float" AetheryteId="7" />
					</If>
					<If Condition="not Managers.WorldManager.HasAetheryteId(7)">
						<Travel To="154" />
					</If>
				</If>
				<NoCombatMoveTo Name="Farming Area" XYZ="288.5969, -11.66098, 47.45194" />
				<Gather while="not HasAtLeast(11,&EarthCrystals;)">
					<GatherObject>Mature Tree</GatherObject>
					<HotSpots>
						<HotSpot Radius="90" XYZ="251.9866, -9.133508, 14.80032" name="Mature Trees" />
					</HotSpots>
					<ItemNames>
						<ItemName>Earth Crystal</ItemName>
						<ItemName>Earth Shard</ItemName>
					</ItemNames>
					<GatheringSkillOrder>
						<GatheringSkill SpellName="Nophica's Ward" TimesToCast="1" />
					</GatheringSkillOrder>
				</Gather>
			</If>

		</While>

		<!-- Lightning Crystal -->

		<While Condition="not HasAtLeast(12,&LightningCrystals;)">

			<RunCode Name="Botanist" />
			<WaitTimer WaitTime="3" />
			<If Condition="Core.Me.CurrentJob == ClassJobType.Botanist">
				<LogMessage Message="You need more Lightning Crystals..." />
				<If Condition="not IsOnMap(141)">
					<If Condition="Managers.WorldManager.HasAetheryteId(53)">
						<TeleportTo Name="Black Brush Station" AetheryteId="53" />
					</If>
					<If Condition="not Managers.WorldManager.HasAetheryteId(53)">
						<Travel To="141" />
					</If>
				</If>
				<NoCombatMoveTo Name="Farming Area" XYZ="107.2583, 3.673464, 427.6072" />
				<Gather while="not HasAtLeast(12,&LightningCrystals;)">
					<GatherObject>Mature Tree</GatherObject>
					<HotSpots>
						<HotSpot Radius="180" XYZ="156.0196, 11.17611, 459.9057" name="Mature Trees" />
					</HotSpots>
					<ItemNames>
						<ItemName>Lightning Crystal</ItemName>
						<ItemName>Lightning Shard</ItemName>
					</ItemNames>
					<GatheringSkillOrder>
						<GatheringSkill SpellName="Byregot's Ward" TimesToCast="1" />
					</GatheringSkillOrder>
				</Gather>
			</If>

		</While>

		<!-- Water Crystal -->

		<While Condition="not HasAtLeast(13,&WaterCrystals;)">

			<RunCode Name="Botanist" />
			<WaitTimer WaitTime="3" />
			<If Condition="Core.Me.CurrentJob == ClassJobType.Botanist">
				<LogMessage Message="You need more Water Crystals..." />
				<If Condition="not IsOnSubMap(206)">
					<If Condition="Managers.WorldManager.HasAetheryteId(11)">
						<TeleportTo Name="Costa del Sol" AetheryteId="11" />
					</If>
					<If Condition="not Managers.WorldManager.HasAetheryteId(11)">
						<Travel To="137" />
					</If>
				</If>
				<NoCombatMoveTo Name="Farming Area" XYZ="340.5255, 24.45108, 563.5051" />
				<Gather while="not HasAtLeast(13,&WaterCrystals;)">
					<GatherObject>Mature Tree</GatherObject>
					<HotSpots>
						<HotSpot Radius="90" XYZ="321.0446, 32.97112, 612.6232" name="Mature Treee" />
					</HotSpots>
					<ItemNames>
						<ItemName>Water Crystal</ItemName>
						<ItemName>Water Shard</ItemName>
					</ItemNames>
					<GatheringSkillOrder>
						<GatheringSkill SpellName="Thaliak's Ward" TimesToCast="1" />
					</GatheringSkillOrder>
				</Gather>
			</If>

		</While>

		<LogMessage Message="You've gathered all of your Crystals!" />
		<If Condition="not IsOnMap(129)">
			<If Condition="Managers.WorldManager.HasAetheryteId(8)">
				<TeleportTo Name="Limsa Lominsa Lower Decks" AetheryteId="8" />
			</If>
			<If Condition="not Managers.WorldManager.HasAetheryteId(8)">
				<Travel To="129" />
			</If>
		</If>

	</Order>
	<GrindAreas>
	</GrindAreas>
	<CodeChunks>
		<CodeChunk Name="Botanist">
			<![CDATA[ 
				ff14bot.Managers.ChatManager.SendChat("/gs change 22");
		]]>
		</CodeChunk>
	</CodeChunks>
</Profile>